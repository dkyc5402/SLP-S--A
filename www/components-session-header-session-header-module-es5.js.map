{"version":3,"sources":["webpack:///src/app/components/session-header/session-header.page.html","webpack:///src/app/components/session-header/session-header-routing.module.ts","webpack:///src/app/components/session-header/session-header.module.ts","webpack:///src/app/components/session-header/session-header.page.scss","webpack:///src/app/components/session-header/session-header.page.ts"],"names":["routes","path","component","SessionHeaderPageRoutingModule","imports","forChild","exports","SessionHeaderPageModule","declarations","SessionHeaderPage","globalService","router","activatedRoute","nativeHttp","assignmentsService","networkService","popoverController","storage","getSessionHeaderData","token","getselectedtoken","studentid","getselectedStudentId","id","snapshot","paramMap","get","sessionid","setselectedsessionid","then","val","sessionheaderdata","getselectedparticipantid","setselectedsessionheader","forEach","valor","session_Id","getselectedsessionid","initiatorid","initiator_Id","setselectedinitiatorid","setselectedsessionstatus","session_Status","console","log","error","online","presentNetworkMsg","EndSessionConfirmation","res","LeaveSession","navigateByUrl","setDataSerializer","post","apiUrl","response","data","JSON","parse","set","assignments","e","status","ev","create","event","popover","present","selector","template"],"mappings":"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","file":"components-session-header-session-header-module-es5.js","sourcesContent":["export default \"<ion-toolbar>\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n  <button style=\\\"background-color:transparent;\\\" (click)=\\\"presentPopover()\\\"><img src=\\\"assets/images/Human.png\\\"><br/></button>\\r\\n  </ion-buttons>\\r\\n  <div *ngIf=\\\"sessionheaderdata\\\">\\r\\n  <ion-title style=\\\"text-align: center;\\\" ><b>{{sessionheaderdata.session_Title}}</b><br/><ion-label style=\\\"font-size: medium;\\\" *ngIf=\\\"sessionheaderdata.subject_DisplayName!=null||sessionheaderdata.level_DisplayName!=null\\\" >{{sessionheaderdata.subject_DisplayName}} ({{sessionheaderdata.level_DisplayName}})</ion-label></ion-title>\\r\\n</div>\\r\\n  <ion-buttons slot=\\\"end\\\">\\r\\n    <button style=\\\"background-color:transparent;\\\" (click)=\\\"EndSession()\\\"><img src=\\\"assets/images/EndButton.png\\\"><br/></button>\\r\\n  </ion-buttons>\\r\\n</ion-toolbar>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SessionHeaderPage } from './session-header.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessionHeaderPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SessionHeaderPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessionHeaderPageRoutingModule } from './session-header-routing.module';\r\n\r\nimport { SessionHeaderPage } from './session-header.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SessionHeaderPageRoutingModule\r\n  ],\r\n  declarations: [SessionHeaderPage]\r\n})\r\nexport class SessionHeaderPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2Vzc2lvbi1oZWFkZXIvc2Vzc2lvbi1oZWFkZXIucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AssignmentsService } from '../../services/assignments.service';\r\nimport { ActivatedRoute,Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { PopoverParticipantViewPage } from '../../pages/shared-module/popover-participant-view/popover-participant-view.page';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport {apiurl} from '../../model/global-api';\r\nimport {NetworkService} from '../../services/network.service';\r\nimport { GlobalService} from '../../services/global.service';\r\n@Component({\r\n  selector: 'app-session-header',\r\n  templateUrl: './session-header.page.html',\r\n  styleUrls: ['./session-header.page.scss'],\r\n})\r\nexport class SessionHeaderPage implements OnInit {\r\n\r\n  constructor(private globalService: GlobalService,private router:Router,private activatedRoute: ActivatedRoute, private nativeHttp:HTTP,private assignmentsService: AssignmentsService,private networkService:NetworkService,public popoverController: PopoverController,private storage:Storage) { }\r\n \r\n sessionid:any;participantid:any;initiatorid:any;\r\n //From Storage\r\n sessionheaderdata:any;\r\n  //User Info\r\n  token:any;studentid:any;\r\n  ngOnInit() {  \r\n     this.getSessionHeaderData();\r\n     this.token=this.globalService.getselectedtoken()\r\n     this.studentid=this.globalService.getselectedStudentId()\r\n     }\r\n  /*Get Session Header Data*/\r\n   getSessionHeaderData(){\r\n     \r\n    // Get the ID that was passed with the URL\r\n let id = this.activatedRoute.snapshot.paramMap.get('id');\r\n this.sessionid=id;\r\n\r\n //Global\r\n this.assignmentsService.setselectedsessionid(id);\r\n\r\n this.storage.get('mysession').then((val) => {\r\n  this.sessionheaderdata=val;\r\n  this.assignmentsService.getselectedparticipantid();\r\n  this.assignmentsService.setselectedsessionheader(this.sessionheaderdata);\r\ntry\r\n{\r\n val.forEach((valor) => {\r\n   if(valor.session_Id==this.assignmentsService.getselectedsessionid())\r\n   {\r\n     this.sessionheaderdata=valor;\r\n     this.initiatorid=valor.initiator_Id\r\n     this.assignmentsService.setselectedinitiatorid(this.initiatorid)\r\n     //console.log(this.initiatorid)\r\n     this.assignmentsService.setselectedsessionheader(this.sessionheaderdata);\r\n     this.assignmentsService.setselectedsessionstatus(valor.session_Status)\r\n     console.log(\"Found Session Header!\")\r\n   }\r\n });\r\n}\r\ncatch(error){\r\nconsole.log(error)\r\n}});\r\n }\r\n  /*End A Session*/\r\n  EndSession(){\r\n    if(this.networkService.online == false )\r\n    {\r\n      this.networkService.presentNetworkMsg(); \r\n    }\r\n    else\r\n    {\r\n  this.assignmentsService.EndSessionConfirmation('Cancel','End').then((res) => {\r\n    if (res === 'End') {\r\n     //POST Method\r\n     this.LeaveSession();\r\n     this.router.navigateByUrl('tabs/main');\r\n    }\r\n  });\r\n    }   \r\n  }\r\n   /*Leave A Session*/\r\n   LeaveSession(){\r\n    console.log(this.assignmentsService.getselectedparticipantid())\r\n    this.nativeHttp.setDataSerializer('json');\r\n    this.nativeHttp.post(apiurl.apiUrl+'session/participant_leave', {\r\n     \"Authentication_Token\":this.token, //Get from storage \r\n     \"Student_Id\":this.studentid,\r\n     \"Session_Id\":this.sessionid,\r\n     \"Participant_Id\":this.assignmentsService.getselectedparticipantid()\r\n  }, {\r\n   'Accept': 'application/json',\r\n   'Content-Type': 'application/json' })\r\n   .then(response => {\r\n     try {\r\n       response.data = JSON.parse(response.data);\r\n       this.sessionheaderdata=response.data;\r\n       this.storage.set('mysession', response.data); \r\n       this.storage.set('assignmentdetails',response.data.assignments);\r\n      // console.log(response.data)\r\n     } catch(e) {\r\n       console.error('JSON parsing error');\r\n     }\r\n  })\r\n  .catch(response => {\r\n    // prints 403\r\n    console.log(response.status);\r\n  \r\n    // prints Permission denied\r\n    console.log(response);\r\n\r\n  });\r\n  }\r\n\r\n  /*Pop up (View Participant)*/\r\nasync presentPopover(ev: any) {\r\n  if(this.networkService.online == false )\r\n  {\r\n    this.networkService.presentNetworkMsg(); \r\n  }\r\n  else\r\n  {\r\n  const popover = await this.popoverController.create({\r\n    component: PopoverParticipantViewPage, \r\n    event: ev,\r\n  });\r\n  return await popover.present();\r\n}\r\n}\r\n}\r\n"]}