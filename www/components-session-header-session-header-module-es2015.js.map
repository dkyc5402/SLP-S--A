{"version":3,"sources":["./src/app/components/session-header/session-header.page.html","./src/app/components/session-header/session-header-routing.module.ts","./src/app/components/session-header/session-header.module.ts","./src/app/components/session-header/session-header.page.scss","./src/app/components/session-header/session-header.page.ts"],"names":[],"mappings":"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","file":"components-session-header-session-header-module-es2015.js","sourcesContent":["export default \"<ion-toolbar>\\r\\n  <ion-buttons slot=\\\"start\\\">\\r\\n  <button style=\\\"background-color:transparent;\\\" (click)=\\\"presentPopover()\\\"><img src=\\\"assets/images/Human.png\\\"><br/></button>\\r\\n  </ion-buttons>\\r\\n  <div *ngIf=\\\"sessionheaderdata\\\">\\r\\n  <ion-title style=\\\"text-align: center;\\\" ><b>{{sessionheaderdata.session_Title}}</b><br/><ion-label style=\\\"font-size: medium;\\\" *ngIf=\\\"sessionheaderdata.subject_DisplayName!=null||sessionheaderdata.level_DisplayName!=null\\\" >{{sessionheaderdata.subject_DisplayName}} ({{sessionheaderdata.level_DisplayName}})</ion-label></ion-title>\\r\\n</div>\\r\\n  <ion-buttons slot=\\\"end\\\">\\r\\n    <button style=\\\"background-color:transparent;\\\" (click)=\\\"EndSession()\\\"><img src=\\\"assets/images/EndButton.png\\\"><br/></button>\\r\\n  </ion-buttons>\\r\\n</ion-toolbar>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SessionHeaderPage } from './session-header.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessionHeaderPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SessionHeaderPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessionHeaderPageRoutingModule } from './session-header-routing.module';\r\n\r\nimport { SessionHeaderPage } from './session-header.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SessionHeaderPageRoutingModule\r\n  ],\r\n  declarations: [SessionHeaderPage]\r\n})\r\nexport class SessionHeaderPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2Vzc2lvbi1oZWFkZXIvc2Vzc2lvbi1oZWFkZXIucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AssignmentsService } from '../../services/assignments.service';\r\nimport { ActivatedRoute,Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { PopoverParticipantViewPage } from '../../pages/shared-module/popover-participant-view/popover-participant-view.page';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport {apiurl} from '../../model/global-api';\r\nimport {NetworkService} from '../../services/network.service';\r\nimport { GlobalService} from '../../services/global.service';\r\n@Component({\r\n  selector: 'app-session-header',\r\n  templateUrl: './session-header.page.html',\r\n  styleUrls: ['./session-header.page.scss'],\r\n})\r\nexport class SessionHeaderPage implements OnInit {\r\n\r\n  constructor(private globalService: GlobalService,private router:Router,private activatedRoute: ActivatedRoute, private nativeHttp:HTTP,private assignmentsService: AssignmentsService,private networkService:NetworkService,public popoverController: PopoverController,private storage:Storage) { }\r\n \r\n sessionid:any;participantid:any;initiatorid:any;\r\n //From Storage\r\n sessionheaderdata:any;\r\n  //User Info\r\n  token:any;studentid:any;\r\n  ngOnInit() {  \r\n     this.getSessionHeaderData();\r\n     this.token=this.globalService.getselectedtoken()\r\n     this.studentid=this.globalService.getselectedStudentId()\r\n     }\r\n  /*Get Session Header Data*/\r\n   getSessionHeaderData(){\r\n     \r\n    // Get the ID that was passed with the URL\r\n let id = this.activatedRoute.snapshot.paramMap.get('id');\r\n this.sessionid=id;\r\n\r\n //Global\r\n this.assignmentsService.setselectedsessionid(id);\r\n\r\n this.storage.get('mysession').then((val) => {\r\n  this.sessionheaderdata=val;\r\n  this.assignmentsService.getselectedparticipantid();\r\n  this.assignmentsService.setselectedsessionheader(this.sessionheaderdata);\r\ntry\r\n{\r\n val.forEach((valor) => {\r\n   if(valor.session_Id==this.assignmentsService.getselectedsessionid())\r\n   {\r\n     this.sessionheaderdata=valor;\r\n     this.initiatorid=valor.initiator_Id\r\n     this.assignmentsService.setselectedinitiatorid(this.initiatorid)\r\n     //console.log(this.initiatorid)\r\n     this.assignmentsService.setselectedsessionheader(this.sessionheaderdata);\r\n     this.assignmentsService.setselectedsessionstatus(valor.session_Status)\r\n     console.log(\"Found Session Header!\")\r\n   }\r\n });\r\n}\r\ncatch(error){\r\nconsole.log(error)\r\n}});\r\n }\r\n  /*End A Session*/\r\n  EndSession(){\r\n    if(this.networkService.online == false )\r\n    {\r\n      this.networkService.presentNetworkMsg(); \r\n    }\r\n    else\r\n    {\r\n  this.assignmentsService.EndSessionConfirmation('Cancel','End').then((res) => {\r\n    if (res === 'End') {\r\n     //POST Method\r\n     this.LeaveSession();\r\n     this.router.navigateByUrl('tabs/main');\r\n    }\r\n  });\r\n    }   \r\n  }\r\n   /*Leave A Session*/\r\n   LeaveSession(){\r\n    console.log(this.assignmentsService.getselectedparticipantid())\r\n    this.nativeHttp.setDataSerializer('json');\r\n    this.nativeHttp.post(apiurl.apiUrl+'session/participant_leave', {\r\n     \"Authentication_Token\":this.token, //Get from storage \r\n     \"Student_Id\":this.studentid,\r\n     \"Session_Id\":this.sessionid,\r\n     \"Participant_Id\":this.assignmentsService.getselectedparticipantid()\r\n  }, {\r\n   'Accept': 'application/json',\r\n   'Content-Type': 'application/json' })\r\n   .then(response => {\r\n     try {\r\n       response.data = JSON.parse(response.data);\r\n       this.sessionheaderdata=response.data;\r\n       this.storage.set('mysession', response.data); \r\n       this.storage.set('assignmentdetails',response.data.assignments);\r\n      // console.log(response.data)\r\n     } catch(e) {\r\n       console.error('JSON parsing error');\r\n     }\r\n  })\r\n  .catch(response => {\r\n    // prints 403\r\n    console.log(response.status);\r\n  \r\n    // prints Permission denied\r\n    console.log(response);\r\n\r\n  });\r\n  }\r\n\r\n  /*Pop up (View Participant)*/\r\nasync presentPopover(ev: any) {\r\n  if(this.networkService.online == false )\r\n  {\r\n    this.networkService.presentNetworkMsg(); \r\n  }\r\n  else\r\n  {\r\n  const popover = await this.popoverController.create({\r\n    component: PopoverParticipantViewPage, \r\n    event: ev,\r\n  });\r\n  return await popover.present();\r\n}\r\n}\r\n}\r\n"],"sourceRoot":"webpack:///"}