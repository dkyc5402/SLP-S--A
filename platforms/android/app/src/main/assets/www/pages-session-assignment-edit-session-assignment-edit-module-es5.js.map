{"version":3,"sources":["webpack:///src/app/pages/session-assignment-edit/session-assignment-edit.page.html","webpack:///src/app/model/canvas.model.ts","webpack:///src/app/pages/session-assignment-edit/session-assignment-edit-routing.module.ts","webpack:///src/app/pages/session-assignment-edit/session-assignment-edit.module.ts","webpack:///src/app/pages/session-assignment-edit/session-assignment-edit.page.scss","webpack:///src/app/pages/session-assignment-edit/session-assignment-edit.page.ts"],"names":["Canvas","color","width","points","routes","path","component","SessionAssignmentEditPageRoutingModule","imports","forChild","exports","SessionAssignmentEditPageModule","declarations","SessionAssignmentEditPage","globalService","platform","nativeHttp","activatedRoute","router","assignmentsService","networkService","plt","renderer","storage","segmentModel","lineWidth","emptbackground","selectedColorPenPencil","colorsPenPencil","selectedColorHighlighter","colorsHighlighter","drawpencil","drawpen","drawhighlighter","canDraw","canUndo","canRedo","isDrawing","history","redoHistory","historyIndex","actions","redoActions","isactiveassignment","token","getselectedtoken","studentid","getselectedStudentId","getAssignmentList","backButton","subscribeWithPriority","navigateByUrl","sessionid","asgmtid","fheight","document","getElementById","clientHeight","sessionstatusended","SESSION_STATUS_ENDED","id","snapshot","paramMap","get","sessionstatus","getselectedsessionstatus","then","val","forEach","valor","asgmt_Id","asgmtlist","image","asgmt_Data","console","log","presentAcknowledgeEditing","res","canvasDrawingElement","canvasDrawing","nativeElement","setAttribute","setBackground","event","isactivevideoorvoice","online","presentNetworkMsg","UploadAssignmentConfirmation","background","Image","src","ctx","getContext","onload","drawImage","height","dataUrl","toDataURL","strImage","replace","assignmentdiscussimage","presentLoading","setDataSerializer","post","apiUrl","response","data","JSON","parse","set","assignments","session_Id","dismissLoading","presentEditAssignment","e","error","presentError","setTimeout","status","ev","canvasposition","getBoundingClientRect","lastX","touches","pageX","x","lastY","pageY","y","currentX","currentY","strokeStyle","tempPolyline","push","draw","p_x","p_y","c_x","c_y","b_s","c_c","lineJoin","beginPath","moveTo","lineTo","closePath","stroke","length","polyline","startX","startY","point","tempAction","pop","globalCompositeOperation","drawAllHistory","i","selector","template"],"mappings":"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","file":"pages-session-assignment-edit-session-assignment-edit-module-es5.js","sourcesContent":["export default \"<!--No Read-->\\r\\n<ion-header >\\r\\n  <app-session-header>\\r\\n    <meta name='viewport' content='user-scalable=no'>\\r\\n  </app-session-header>\\r\\n  <ion-segment [(ngModel)]=\\\"segmentModel\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\r\\n    <ion-segment-button  class=\\\"{{isactivevideoorvoice}}\\\" value=\\\"conferencing\\\" >\\r\\n      <ion-label>Conferencing</ion-label>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button class=\\\"{{isactiveassignment}}\\\" value=\\\"assignment\\\">\\r\\n      <ion-label>Assignment</ion-label>\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [forceOverscroll]=\\\"false\\\">\\r\\n\\r\\n  <div *ngIf=\\\"segmentModel === 'conferencing'\\\">\\r\\n    <ion-col>\\r\\n    <div style=\\\"text-align: center;\\\">No Conference Call</div>\\r\\n    </ion-col>\\r\\n  </div>    \\r\\n  <div *ngIf=\\\"segmentModel === 'assignment'\\\">\\r\\n      <div class=\\\"thirdcontent\\\" *ngIf=\\\"asgmtlist\\\">\\r\\n        <div class=\\\"box\\\" >\\r\\n          <ion-label>\\r\\n            [{{asgmtlist.created_By_Username}}-{{asgmtlist.created_By_Level}}]  {{asgmtlist.asgmt_Title}}  <!---Assignment Owner,level & assgmttitle-->\\r\\n        </ion-label>\\r\\n          <ion-icon style=\\\"position: absolute;right:1em;zoom:1.3\\\" button src=\\\"assets/images/1001-cross.svg\\\" (click)=\\\"PreviousPage()\\\"></ion-icon>\\r\\n         </div> \\r\\n         <div id=\\\"qns\\\" class=\\\"card\\\"><h3  style=\\\"font-size: medium;\\\"><b>Question: {{asgmtlist.asgmt_Value}}</b></h3></div>\\r\\n        <canvas id=\\\"canvas\\\" #DrawingCanvas (touchstart)=\\\"handleStart($event)\\\" (touchmove)=\\\"handleMove($event)\\\" (touchend)=\\\"handleStop()\\\"></canvas>\\r\\n    </div>\\r\\n    </div>\\r\\n  \\r\\n\\r\\n    </ion-content>\\r\\n<ion-footer>\\r\\n  <div id=\\\"wrappalette\\\" >\\r\\n    <ion-row *ngIf=\\\"drawpencil||drawpen\\\" > \\r\\n      <ion-col *ngFor=\\\"let color of colorsPenPencil\\\" [style.background]=\\\"color\\\" class=\\\"color-block\\\" tappable\\r\\n        (click)=\\\"selectColor(color)\\\"></ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row *ngIf=\\\"drawhighlighter\\\">\\r\\n      <ion-col *ngFor=\\\"let color of colorsHighlighter\\\" [style.background]=\\\"color\\\" class=\\\"color-block\\\" tappable\\r\\n      (click)=\\\"selectColor(color)\\\"></ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n  <div class=\\\"content\\\" *ngIf=\\\"segmentModel === 'assignment'\\\">\\r\\n    <span><ion-icon name=\\\"color-palette\\\" *ngIf=\\\"drawpencil||drawpen||drawhighlighter\\\"></ion-icon></span>\\r\\n   <span><ion-icon class='iconclick' src=\\\"assets/images/009-pencil.svg\\\" (click)=\\\"DrawByPencil()\\\" ></ion-icon></span>\\r\\n   <span><ion-icon class='iconclick' src=\\\"assets/images/030-pen.svg\\\" (click)=\\\"DrawByPen()\\\"></ion-icon></span>\\r\\n   <span><ion-icon class='iconclick' src=\\\"assets/images/018-highlighter.svg\\\" (click)=\\\"DrawByHighlighter()\\\"></ion-icon></span>\\r\\n   <span *ngIf=\\\"canUndo\\\"><ion-icon src=\\\"assets/images/undo.svg\\\" (click)=\\\"undo()\\\"></ion-icon></span>\\r\\n   <span *ngIf=\\\"canRedo\\\"><ion-icon src=\\\"assets/images/redo.svg\\\" (click)=\\\"redo()\\\"></ion-icon></span>\\r\\n   <span><ion-icon src=\\\"assets/images/save.svg\\\"  (click)=\\\"exportCanvasImage()\\\"></ion-icon></span>\\r\\n </div>\\r\\n</ion-footer>\";","export class Canvas {\r\n    public points = [];\r\n    public color: string;\r\n    public width: number;\r\n\r\n    constructor(color: string, width: number) {\r\n        this.color = color;\r\n        this.width = width;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SessionAssignmentEditPage } from './session-assignment-edit.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessionAssignmentEditPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SessionAssignmentEditPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessionAssignmentEditPageRoutingModule } from './session-assignment-edit-routing.module';\r\n\r\nimport { SessionAssignmentEditPage } from './session-assignment-edit.page';\r\nimport {ComponentsModule} from '../../components.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SessionAssignmentEditPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [SessionAssignmentEditPage]\r\n})\r\nexport class SessionAssignmentEditPageModule {}\r\n","export default \".color-block {\\n  height: 1em;\\n}\\n\\n.content {\\n  display: flex;\\n  justify-content: space-between;\\n  max-width: 100%;\\n  margin: 0 auto;\\n  background-color: #d9f6ff;\\n  padding: 0.5em 0.5em;\\n}\\n\\n.iconclick:active {\\n  outline: black solid 1px;\\n}\\n\\nspan {\\n  width: 1em;\\n  height: 1em;\\n  zoom: 2.5;\\n}\\n\\nion-fab-button {\\n  --background: transparent;\\n}\\n\\n#qns {\\n  background-color: transparent;\\n}\\n\\n.box {\\n  margin: 0 auto;\\n}\\n\\n#canvas {\\n  position: static;\\n  bottom: 0.1em;\\n  left: 0em;\\n  right: 0em;\\n  width: 100%;\\n  outline: black solid 1px;\\n}\\n\\n#wrappalette {\\n  bottom: 0;\\n  width: 100%;\\n}\\n\\n.scrolling-wrapper {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n  white-space: nowrap;\\n}\\n\\n.card {\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LWVkaXQvQzpcXFVzZXJzXFxMMzA5MDNcXERvY3VtZW50c1xcR2l0SHViXFxJb25pY0ZQQW5hbHlzaXMvc3JjXFxhcHBcXHBhZ2VzXFxzZXNzaW9uLWFzc2lnbm1lbnQtZWRpdFxcc2Vzc2lvbi1hc3NpZ25tZW50LWVkaXQucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zZXNzaW9uLWFzc2lnbm1lbnQtZWRpdC9zZXNzaW9uLWFzc2lnbm1lbnQtZWRpdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxXQUFBO0FDQUY7O0FERUE7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLHlCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURDQTtFQUNFLHdCQUFBO0FDRUY7O0FESUE7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUNERjs7QURHQTtFQUNFLHlCQUFBO0FDQUY7O0FERUE7RUFFQSw2QkFBQTtBQ0FBOztBREdBO0VBQ0UsY0FBQTtBQ0FGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxhQUFBO0VBQWMsU0FBQTtFQUFVLFVBQUE7RUFDeEIsV0FBQTtFQUNBLHdCQUFBO0FDR0Y7O0FEREE7RUFFQSxTQUFBO0VBQ0EsV0FBQTtBQ0dBOztBRERBO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDSUY7O0FEQ0E7RUFFRSw2QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1hc3NpZ25tZW50LWVkaXQvc2Vzc2lvbi1hc3NpZ25tZW50LWVkaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi5jb2xvci1ibG9jayB7XHJcbiAgaGVpZ2h0OiAxZW07XHJcbn1cclxuLmNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIG1heC13aWR0aDogMTAwJTtcclxuICBtYXJnaW46IDAgYXV0bztcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDlmNmZmO1xyXG4gIHBhZGRpbmc6IDAuNWVtIDAuNWVtO1xyXG59XHJcbi5pY29uY2xpY2s6YWN0aXZle1xyXG4gIG91dGxpbmU6IGJsYWNrIHNvbGlkIDFweDtcclxufVxyXG4vLyAjaWNvbmNsaWNrMTpmb2N1c3tcclxuLy8gICBvdXRsaW5lOiBibGFjayBzb2xpZCAxcHg7XHJcbi8vIH1cclxuXHJcbnNwYW4ge1xyXG4gIHdpZHRoOiAxZW07XHJcbiAgaGVpZ2h0OiAxZW07XHJcbiAgem9vbToyLjU7XHJcbn1cclxuaW9uLWZhYi1idXR0b24ge1xyXG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbn1cclxuI3Fuc3tcclxuLy8gcG9zaXRpb246YWJzb2x1dGU7XHJcbmJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cclxufVxyXG4uYm94e1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcbiNjYW52YXN7XHJcbiAgcG9zaXRpb246c3RhdGljO1xyXG4gIGJvdHRvbTowLjFlbTsgbGVmdDowZW07IHJpZ2h0OiAwZW07XHJcbiAgd2lkdGg6MTAwJTtcclxuICBvdXRsaW5lOmJsYWNrIHNvbGlkIDFweDtcclxufVxyXG4jd3JhcHBhbGV0dGV7XHJcbi8vIHBvc2l0aW9uOiBzdGF0aWM7XHJcbmJvdHRvbTogMDtcclxud2lkdGg6IDEwMCU7XHJcbn1cclxuLnNjcm9sbGluZy13cmFwcGVyIHtcclxuICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcblxyXG5cclxuXHJcbn1cclxuLmNhcmQge1xyXG4gIC8vIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cclxufVxyXG4iLCIuY29sb3ItYmxvY2sge1xuICBoZWlnaHQ6IDFlbTtcbn1cblxuLmNvbnRlbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGJhY2tncm91bmQtY29sb3I6ICNkOWY2ZmY7XG4gIHBhZGRpbmc6IDAuNWVtIDAuNWVtO1xufVxuXG4uaWNvbmNsaWNrOmFjdGl2ZSB7XG4gIG91dGxpbmU6IGJsYWNrIHNvbGlkIDFweDtcbn1cblxuc3BhbiB7XG4gIHdpZHRoOiAxZW07XG4gIGhlaWdodDogMWVtO1xuICB6b29tOiAyLjU7XG59XG5cbmlvbi1mYWItYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuI3FucyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uYm94IHtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbiNjYW52YXMge1xuICBwb3NpdGlvbjogc3RhdGljO1xuICBib3R0b206IDAuMWVtO1xuICBsZWZ0OiAwZW07XG4gIHJpZ2h0OiAwZW07XG4gIHdpZHRoOiAxMDAlO1xuICBvdXRsaW5lOiBibGFjayBzb2xpZCAxcHg7XG59XG5cbiN3cmFwcGFsZXR0ZSB7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5zY3JvbGxpbmctd3JhcHBlciB7XG4gIG92ZXJmbG93LXg6IHNjcm9sbDtcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufSJdfQ== */\";","import { Component,OnInit, ViewChild,Renderer2  } from '@angular/core';\r\nimport { ActivatedRoute,Router } from '@angular/router';\r\nimport { Platform } from \"@ionic/angular\";\r\nimport { Storage } from '@ionic/storage';\r\n\r\nimport { Canvas } from './../../model/canvas.model';\r\nimport { AssignmentsService } from '../../services/assignments.service';\r\nimport {NetworkService} from '../../services/network.service';\r\nimport {SessionStatus,apiurl} from '../../model/global-api';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport {  GlobalService} from '../../services/global.service';\r\n@Component({\r\n  selector: 'app-session-assignment-edit',\r\n  templateUrl: './session-assignment-edit.page.html',\r\n  styleUrls: ['./session-assignment-edit.page.scss'],\r\n})\r\nexport class SessionAssignmentEditPage implements OnInit {\r\n\r\nconstructor(private globalService: GlobalService, private platform: Platform,private nativeHttp:HTTP,private activatedRoute: ActivatedRoute,private router:Router,private assignmentsService: AssignmentsService,private networkService:NetworkService,private plt: Platform,private renderer:Renderer2,private storage:Storage) {}\r\n\t\r\n//Segment\r\nsegmentModel = \"assignment\";sessionid:any;asgmtid:any;\r\nasgmtlist:any;sessionstatusended:any;sessionstatus:any;\r\nisactiveassignment:string;isactivevideoorvoice:string;image:any;assignmentdiscussimage:any;\r\n\r\n //User Info\r\n token:any;studentid:any;\r\n//Drawing\r\n@ViewChild(\"DrawingCanvas\", {static:false}) canvasDrawing: any;\r\ncanvasDrawingElement: any;\r\nlineWidth=\"1\";\r\nwidth: number;\r\nheight: number;\r\nlastX: number;\r\nlastY: number;\r\n\r\nemptbackground = \"111111\";\r\n/*Pen, Pencil,*/\r\nselectedColorPenPencil = \"#000000\";\r\ncolorsPenPencil = [\"#000000\",\"#ffffff\",\"#c2281d\",\"#de722f\",\"#edbf4c\",\"#5db37e\",\"#459cde\",\"#4250ad\",\"#802fa3\"];\r\n/*Highlighter*/\r\nselectedColorHighlighter = \"rgba(152, 247, 0, 0.3)\";\r\ncolorsHighlighter = [\"rgba(152, 247, 0, 0.2)\",\"rgba(0, 186, 243, 0.2)\",\"rgba(248, 0, 236, 0.2)\",\"rgba(255, 255, 0, 0.2)\",\"rgba(255, 255, 255, 0.2)\"];\r\n//Boolean\r\ndrawpencil=true;drawpen=false;drawhighlighter=false;\r\ncanDraw: boolean = true;canUndo: boolean = false;canRedo: boolean = false;\r\nisDrawing: boolean = false; \r\ntempPolyline: Canvas;\r\nhistory: Canvas[] = [];\r\nredoHistory: Canvas[] = [];\r\nhistoryIndex = 0;\r\nactions = [];\r\nredoActions = [];\r\n\r\nngOnInit(){\r\n//Segment\r\nthis.isactiveassignment=\"activesegment\";\r\n\r\nthis.token=this.globalService.getselectedtoken()\r\nthis.studentid=this.globalService.getselectedStudentId()\r\n} \r\n\r\nionViewWillEnter(){\r\n  this.getAssignmentList();\r\n//  this.NotificationFirstEntered(null)\r\n}\r\n\r\n\r\nionViewDidEnter(){\r\n  this.platform.backButton.subscribeWithPriority(10, () => {\r\n\r\n    this.router.navigateByUrl('tabs/session-view/session-assignment-view/'+this.sessionid+'/'+this.asgmtid)\r\n  });\r\n  const fheight =document.getElementById('canvas').clientHeight;\r\n\r\n}\r\n\r\n\r\n/*Get AssignmentList*/\r\ngetAssignmentList()\r\n{\r\n  this.sessionstatusended = SessionStatus.SESSION_STATUS_ENDED;\r\n   // Get the ID that was passed with the URL\r\n  let id = this.activatedRoute.snapshot.paramMap.get('id');\r\n  this.sessionid=id;\r\n  let asgmtid = this.activatedRoute.snapshot.paramMap.get('asgmtid');\r\n  this.asgmtid=asgmtid;\r\n  this.sessionstatus=this.assignmentsService.getselectedsessionstatus();\r\n  this.storage.get('assignmentdetails').then((val) => {\r\n      val.forEach((valor) => {\r\n      if(this.asgmtid==valor.asgmt_Id)\r\n      {\r\n        this.asgmtlist=valor;\r\n        this.image='data:image/jpeg;base64, '+this.asgmtlist.asgmt_Data;\r\n        if(this.asgmtlist.asgmt_Data == null){\r\n            this.image = 'data:image/png;base64,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';\r\n            // this.image link is 'https://www.macmillandictionary.com/external/slideshow/thumb/White_thumb.png';\r\n\r\n            \r\n        }\r\n        console.log(\"Found Session Assignment Edit!\")\r\n      }\r\n    })\r\n  });\r\n  this.token=this.globalService.getselectedtoken()\r\n  this.studentid=this.globalService.getselectedStudentId()\r\n//Drawing\r\nthis.assignmentsService.presentAcknowledgeEditing('Ok').then((res) => {\r\n  if (res === 'Ok') {\r\n    // console.log(\"I acknowledge\")\r\n    this.canvasDrawingElement = this.canvasDrawing.nativeElement\r\n\r\n     this.renderer.setAttribute(this.canvasDrawingElement, 'width', this.plt.width());\r\n     this.renderer.setAttribute(this.canvasDrawingElement, 'height', 350 + '');\r\n     this.setBackground();\r\n  }\r\n });\r\n\r\n}\r\n\r\n/*Segment */\r\nsegmentChanged(event) {\r\n  if(this.segmentModel!=\"assignment\")\r\n  {\r\n  this.isactiveassignment=\"inactivesegment\";\r\n  this.isactivevideoorvoice=\"activesegment\";\r\n  }\r\n  else if (this.segmentModel==\"assignment\"){\r\n    this.isactiveassignment=\"activesegment\";\r\n    this.isactivevideoorvoice=\"inactivesegment\"\r\n  }\r\n}\r\n/*Select color*/\r\nselectColor(color) {\r\n  if(this.drawpencil||this.drawpen)\r\n  {\r\n  this.selectedColorPenPencil = color;\r\n  }\r\n  else if(this.drawhighlighter)\r\n  {\r\n  this.selectedColorHighlighter = color;\r\n  }\r\n}\r\n/*Save Drawing*/ \r\nexportCanvasImage() {\r\n  if(this.networkService.online == false )\r\n  {\r\n    this.networkService.presentNetworkMsg(); \r\n  }\r\n  else{\r\n  this.assignmentsService.UploadAssignmentConfirmation('Cancel','Save').then((res) => {\r\n    if (res === 'Save') {\r\n      var background = new Image();\r\n      background.src = this.image;\r\n      let ctx = this.canvasDrawingElement.getContext(\"2d\");\r\n    \r\n      background.onload = () => {\r\n        ctx.drawImage(\r\n          background,\r\n          0,\r\n          0,\r\n          this.canvasDrawingElement.width,\r\n          this.canvasDrawingElement.height\r\n        );\r\n      };\r\n    let dataUrl = this.canvasDrawingElement.toDataURL();\r\n    var strImage = dataUrl.replace(/^data:image\\/[a-z]+;base64,/, \"\");\r\n    this.assignmentdiscussimage=strImage;\r\n    this.assignmentsService.presentLoading();\r\n    this.nativeHttp.setDataSerializer('json');\r\n    this.nativeHttp.post(apiurl.apiUrl+'session/uploadAsgmtDisc', {\r\n  \"Authentication_Token\":this.token, //Get from storage\r\n  \"Student_Id\":this.studentid,\r\n  \"Session_Id\":this.sessionid,\r\n  \"Asgmt_Id\":this.asgmtid,\r\n  \"AsgmtDiscuss_Value\": \"Test\",\r\n  \"AsgmtDiscuss_Data\": this.assignmentdiscussimage,\r\n  }, {\r\n  'Accept': 'application/json',\r\n  'Content-Type': 'application/json' })\r\n  .then(response => {\r\n    try {\r\n      console.log('this is token tutor session asgmt,',this.token,',',this.studentid,'',this.sessionid,',',this.asgmtid,',',this.assignmentdiscussimage)\r\n      console.log('this is response data',response.data)\r\n     response.data = JSON.parse(response.data);//whole asgmtlist of particular session\r\n     console.log(response.data)\r\n     this.storage.set('mysession', response.data); \r\n     this.storage.set('assignmentdetails',response.data.assignments);\r\n     this.sessionid=response.data.session_Id;\r\n     this.assignmentsService.dismissLoading()\r\n     this.assignmentsService.presentEditAssignment('Ok').then(   (res) => {\r\n      if (res === 'Ok') {\r\n       this.router.navigateByUrl('/tabs/session-view/session-assignment-view/'+this.sessionid+'/'+this.asgmtid);\r\n      }\r\n     });\r\n   }\r\n      catch(e) \r\n      {\r\n        console.error('JSON parsing error');\r\n        this.assignmentsService.presentError()\r\n        setTimeout(() => {\r\n          this.assignmentsService.dismissLoading();\r\n         this.router.navigateByUrl('tabs/main');  \r\n   \r\n       }, 3000);\r\n \r\n      }\r\n    })\r\n    .catch(response => {\r\n      // prints 403\r\n      console.log(response.status);\r\n      // prints Permission denied\r\n      console.log(response.error);\r\n      this.assignmentsService.presentError()\r\n      setTimeout(() => {\r\n        this.assignmentsService.dismissLoading();\r\n       this.router.navigateByUrl('tabs/main');  \r\n \r\n     }, 3000);\r\n      });\r\n    }\r\n  });\r\n  }\r\n}\r\n/*Three features Pencil,Pen,Highlighter*/\r\nDrawByPencil(){\r\nthis.canDraw=true;\r\nthis.lineWidth = '1';\r\n  this.drawpencil=true;\r\n  this.drawpen=false;\r\n  this.drawhighlighter=false;\r\n}\r\nDrawByPen(){\r\nthis.canDraw=true;\r\nthis.lineWidth = '5';\r\n  this.drawpen=true;\r\n  this.drawpencil=false;\r\n  this.drawhighlighter=false;\r\n}\r\nDrawByHighlighter(){\r\nthis.canDraw=true;\r\nthis.lineWidth = '15';\r\n  this.drawhighlighter=true;\r\n  this.drawpen=false;\r\n  this.drawpencil=false;\r\n}\r\nhandleStart(ev) {\r\n  const canvasposition = this.canvasDrawingElement.getBoundingClientRect();\r\n  this.lastX = ev.touches[0].pageX - canvasposition.x;\r\n  this.lastY = ev.touches[0].pageY - canvasposition.y;\r\n}\r\nhandleMove(ev) {\r\n  const canvasposition = this.canvasDrawingElement.getBoundingClientRect();\r\n  let currentX = ev.touches[0].pageX - canvasposition.x;\r\n  let currentY = ev.touches[0].pageY - canvasposition.y;\r\n  let ctx = this.canvasDrawingElement.getContext(\"2d\");\r\n\r\n  if(this.drawpencil===true)\r\n  {\r\n  ctx.strokeStyle = this.selectedColorPenPencil;\r\n  }\r\n  else if(this.drawpen===true)\r\n  {\r\n    ctx.strokeStyle = this.selectedColorPenPencil;\r\n  }\r\n  else if(this.drawhighlighter===true)\r\n  {       \r\n    ctx.strokeStyle = this.selectedColorHighlighter;\r\n  } \r\n  if(this.canDraw) {\r\n    if(this.isDrawing) {\r\n      this.tempPolyline.points.push({\r\n        x: currentX,\r\n        y: currentY\r\n      });\r\n    } \r\n    else {\r\n        if(this.drawpencil===true)\r\n        {\r\n         this.tempPolyline = new Canvas(this.selectedColorPenPencil, 1);\r\n        }\r\n        else if(this.drawpen===true)\r\n        {\r\n         this.tempPolyline = new Canvas(this.selectedColorPenPencil, 5);\r\n        }\r\n        else if(this.drawhighlighter===true)\r\n          {\r\n          this.tempPolyline = new Canvas(this.selectedColorHighlighter, 15);\r\n          }\r\n          this.tempPolyline.points.push({\r\n            x: this.lastX,\r\n            y: this.lastY\r\n          });\r\n          this.isDrawing = true;\r\n        }\r\n    if(this.drawpencil===true)\r\n    {\r\n    this.draw(this.lastX, this.lastY, currentX, currentY, this.lineWidth, this.selectedColorPenPencil);\r\n    }\r\n    else if(this.drawpen===true)\r\n    {\r\n    this.draw(this.lastX, this.lastY, currentX, currentY, this.lineWidth, this.selectedColorPenPencil);\r\n    console.log(this.lastX, this.lastY, currentX, currentY, this.lineWidth, this.selectedColorPenPencil)\r\n    }\r\n    else if(this.drawhighlighter===true)\r\n    {\r\n      this.draw(this.lastX, this.lastY, currentX, currentY, this.lineWidth, this.selectedColorHighlighter);\r\n    }\r\n\r\n  }\r\n \r\n  this.lastX = currentX;\r\n  this.lastY = currentY;\r\n}\r\ndraw(p_x, p_y, c_x, c_y, b_s, c_c) {\r\n  let ctx = this.canvasDrawingElement.getContext('2d');\r\n\r\n  ctx.lineJoin = \"round\";\r\n  ctx.strokeStyle = c_c;\r\n\r\n  ctx.beginPath();\r\n  ctx.moveTo(p_x, p_y);\r\n  ctx.lineTo(c_x, c_y);\r\n  ctx.lineWidth = b_s;\r\n\r\n\r\n  ctx.closePath();\r\n\r\n  ctx.stroke();\r\n}\r\n\r\nhandleStop() {\r\n  if(this.isDrawing) {\r\n    this.history.push(this.tempPolyline);\r\n    console.log('this is history', this.history)\r\n    this.isDrawing = false;\r\n    this.historyIndex++;\r\n    this.actions.push('draw');\r\n\r\n    this.redoActions = [];\r\n    this.redoHistory = [];\r\n  }\r\n  if(this.actions.length != 0){\r\n    this.canUndo=true;\r\n    }\r\n  if(this.redoActions.length != 0) {\r\n    this.canRedo=true;\r\n    }\r\n}\r\n\r\ndrawAllHistory() {\r\n  this.setBackground();\r\n  setTimeout(() => {\r\n    for(let polyline of this.history) {\r\n      let startX = polyline.points[0].x;\r\n      let startY = polyline.points[0].y;\r\n      for(let point of polyline.points) {\r\n        this.draw(startX, startY, point.x, point.y, polyline.width, polyline.color);\r\n        startX = point.x;\r\n        startY = point.y;\r\n      }\r\n    }\r\n  }, 100);\r\n\r\n\r\n}\r\n/*Undo & Redo Features*/\r\nundo() {\r\n  if(this.redoActions.length == 0) {\r\n    this.canRedo=true;\r\n  }\r\n     if(this.actions.length == 0) {\r\n       this.canUndo=false;\r\n      return;\r\n     }\r\n  let tempAction = this.actions.pop();\r\n  this.redoActions.push(tempAction);\r\n    if(this.history.length > 0) {\r\n      this.redoHistory.push(this.history.pop());\r\n      this.historyIndex--;\r\n    }\r\n  let ctx = this.canvasDrawingElement.getContext('2d');\r\n  ctx.globalCompositeOperation = 'source-over';  \r\n  this.drawAllHistory();\r\n}\r\nredo() {\r\n  if(this.actions.length == 0) {\r\n    this.canUndo=true;\r\n  }\r\n    if(this.redoActions.length == 0) {\r\n      this.canRedo=false;\r\n      return;\r\n    }\r\n  let tempAction = this.redoActions.pop();\r\n  this.actions.push(tempAction);\r\n  let ctx = this.canvasDrawingElement.getContext('2d');\r\n  ctx.globalCompositeOperation = 'source-over';  \r\n  if(tempAction == 'draw') {\r\n    if(this.redoHistory.length > 0) {\r\n      this.history.push(this.redoHistory.pop());\r\n      for(var i = this.historyIndex; i < this.history.length; i++) {\r\n        let polyline = this.history[i];\r\n        let startX = polyline.points[0].x;\r\n        let startY = polyline.points[0].y;\r\n        for(let point of polyline.points) {\r\n          this.draw(startX, startY, point.x, point.y, polyline.width, polyline.color);\r\n          startX = point.x;\r\n          startY = point.y;\r\n        }\r\n      }\r\n      this.historyIndex++;\r\n    }\r\n  }     console.log('history is :'+ this.history +'temppolyline is :' + this.tempPolyline)\r\n\r\n}\r\n//Image from API\r\nsetBackground() {\r\n  var background = new Image();\r\n  background.src = this.image;\r\n\r\n    console.log('alo',background.src, 'this is background')\r\n  let ctx = this.canvasDrawingElement.getContext(\"2d\");\r\n\r\n  background.onload = () => {\r\n    ctx.drawImage(\r\n      background,\r\n      0,\r\n      0,\r\n      this.canvasDrawingElement.width,\r\n      this.canvasDrawingElement.height\r\n    );\r\n  };\r\n}\r\nPreviousPage(){\r\n  if(this.networkService.online == false )\r\n  {\r\n    this.networkService.presentNetworkMsg(); \r\n  }\r\n  else{\r\n  this.router.navigateByUrl('/tabs/session-view/session-assignment-view/'+this.sessionid+'/'+this.asgmtid);\r\n  }  \r\n}\r\n}\r\n\r\n\r\n\r\n//use bounding then percentage it\r\n\r\n// NotificationFirstEntered(event){\r\n//   this.token=this.globalService.getselectedtoken()\r\n//   this.studentid=this.globalService.getselectedStudentId()\r\n  \r\n//   console.log(this.globalService.getselectedtoken())\r\n//   console.log(this.globalService.getselectedStudentId())\r\n// //Drawing\r\n// this.assignmentsService.presentAcknowledgeEditing('Ok').then((res) => {\r\n//   if (res === 'Ok') {\r\n//     // console.log(\"I acknowledge\")\r\n//   }\r\n//  });\r\n//  this.canvasDrawingElement = this.canvasDrawing.nativeElement\r\n// //  this.canvasDrawingElement.width = this.plt.width()+ '';\r\n// //  this.canvasDrawingElement.height = this.plt.width()+ '' ;\r\n//  this.renderer.setAttribute(this.canvasDrawingElement, 'width', this.plt.width());\r\n//  this.renderer.setAttribute(this.canvasDrawingElement, 'height', 350 + '');\r\n//  this.setBackground();\r\n//  setTimeout(() => {\r\n//   console.log('Async operation has ended');\r\n//   event.target.complete();\r\n// }, 2000);\r\n// }\r\n"]}