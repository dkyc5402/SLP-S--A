{"version":3,"sources":["webpack:///src/app/pages/session-join/session-join.page.html","webpack:///src/app/pages/session-join/session-join-routing.module.ts","webpack:///src/app/pages/session-join/session-join.module.ts","webpack:///src/app/pages/session-join/session-join.page.scss","webpack:///src/app/pages/session-join/session-join.page.ts"],"names":["routes","path","component","SessionJoinPageRoutingModule","imports","forChild","exports","SessionJoinPageModule","declarations","SessionJoinPage","globalService","platform","toastController","loadingController","dms","nativeHttp","router","assignmentsService","activatedRoute","storage","networkService","boolHaveSession","token","getselectedtoken","studentid","getselectedStudentId","CallAPIGetPublicSessionStudentNotYetJoin","bread","textdisplay","presentLoading","loading","dismiss","console","log","backButton","subscribeWithPriority","navigateByUrl","event","setDataSerializer","header","fetchinfo","post","apiUrl","then","response","data","JSON","parse","set","val","get","target","complete","e","error","presentError","setTimeout","status","presentToast","index","open","filter","item","itemIndex","map","imagefromAPI","imgdisplayinapp","display","bImg","bypassSecurityTrustUrl","create","message","duration","position","toast","present","cssClass","backdropDismiss","ToastError","sessionid","online","presentNetworkMsg","presentJoinSession","res","selector","template"],"mappings":"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","file":"pages-session-join-session-join-module-es5.js","sourcesContent":["export default \"<!--After Tutor Accept (Session not yet end,student not yet join)-->\\r\\n<app-main-header></app-main-header>\\r\\n<ion-content>\\r\\n  <ion-refresher slot='fixed' (ionRefresh)='UpdateData($event)'>\\r\\n    <ion-refresher-content></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n  <!-- <ul class=\\\"breadcrumb\\\" id=\\\"breadcrumbs\\\">\\r\\n    <li style=\\\"display: inline;\\\"><a href=\\\"/tabs/main\\\"> Home </a><i class=\\\"ion-chevron-right\\\"></i></li>\\r\\n    <li style=\\\"display: inline;\\\" class=\\\"active\\\"> Join Session </li>\\r\\n  </ul>     -->\\r\\n  <div class=\\\"fourthcontent\\\">\\r\\n    <div *ngIf=\\\"boolHaveSession\\\" style=\\\"font-size: larger;\\\"><b>{{NoSessionText}}</b></div>\\r\\n  <ion-list *ngFor=\\\"let item of textdisplay; let i = index\\\" class=\\\"accordion-list\\\" lines=\\\"none\\\" detail=\\\"false\\\" >\\r\\n    <ion-grid tappable style=\\\"background-color: #99A7C2;\\\" [ngClass]=\\\"{'section-active': item.open, 'section': !item.open}\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"10\\\">\\r\\n            <b class=\\\"defaultgreenfont\\\" style=\\\"font-size: large;\\\">{{item.session_Title}}<br/></b>\\r\\n            <ion-label class=\\\"defaultgreenfont\\\">{{item.subject_DisplayName}}({{item.level_DisplayName}})<br/></ion-label>\\r\\n              <ion-label class=\\\"defaultgreenfont\\\">Participant({{item.num_Of_Participants}}):[SV]{{item.tutor_Name}}; [IS]{{item.initiator_Name}}<br/></ion-label> \\r\\n          </ion-col> \\r\\n          <ion-col size=\\\"2\\\">\\r\\n      <button class=\\\"buttonjoinsession\\\" (click)=\\\"CallAPIJoinSession(item.session_Id)\\\"><b>Join</b></button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <br/>\\r\\n      <div style=\\\"color: black; position: absolute;left: 50%;\\\" (click)=\\\"toggleSection(i)\\\" [ngClass] =\\\"{'section-active' : item.open, 'section': !item.open}\\\">\\r\\n        <ion-icon src=\\\"assets/images/063-down-arrow-5.svg\\\" (click)=\\\"SanitizeImage(item.session_Question_Data)\\\" *ngIf=\\\"!item.open\\\" ></ion-icon>\\r\\n        <ion-icon src=\\\"assets/images/006-up-arrow-6.svg\\\" *ngIf=\\\"item.open\\\" style=\\\"color: black;\\\"></ion-icon>\\r\\n   </div> \\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n    <div *ngIf=\\\"item.open\\\">\\r\\n          <div style=\\\"border:dashed #4B5C7C;\\\">\\r\\n            <p *ngIf=\\\"item.session_Question_Data!=null\\\"><img [src]=\\\"imgdisplayinapp\\\" alt=\\\"Image\\\" onerror=\\\"this.style.display='none'\\\"/></p> <!--Question Image-->\\r\\n            <label>{{item.session_Question_Text}}</label> <!--Question Text-->\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-list>\\r\\n</div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SessionJoinPage } from './session-join.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SessionJoinPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SessionJoinPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SessionJoinPageRoutingModule } from './session-join-routing.module';\r\n\r\nimport { SessionJoinPage } from './session-join.page';\r\nimport {ComponentsModule} from '../../components.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SessionJoinPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [SessionJoinPage]\r\n})\r\nexport class SessionJoinPageModule {}\r\n","export default \".fourthcontent {\\n  padding: 5% 2% 1% 2%;\\n}\\n\\n.accordion-list {\\n  padding: 0 1% 0 1%;\\n  margin-bottom: 0.5em;\\n}\\n\\n.accordion-list .section,\\n.accordion-list .section-active {\\n  --min-height: 6em;\\n}\\n\\n.section {\\n  --ion-item-background:#8091B3;\\n}\\n\\n.section-active {\\n  --ion-item-background:#8091B3;\\n}\\n\\n.buttonjoinsession {\\n  font-size: medium;\\n  position: absolute;\\n  padding: 6px;\\n  margin-top: 30px;\\n  background-color: #4B5C7C;\\n  border-radius: 10px;\\n  color: white;\\n}\\n\\n.defaultgreenfont {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2Vzc2lvbi1qb2luL0M6XFxVc2Vyc1xcRGFuYWVcXERlc2t0b3BcXEZZUEpcXFNMUC1TLS1BL3NyY1xcYXBwXFxwYWdlc1xcc2Vzc2lvbi1qb2luXFxzZXNzaW9uLWpvaW4ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zZXNzaW9uLWpvaW4vc2Vzc2lvbi1qb2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG9CQUFBO0FDQ0Y7O0FERUE7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0FDQ0o7O0FEQUk7O0VBRUksaUJBQUE7QUNFUjs7QURDRTtFQUNFLDZCQUFBO0FDRUo7O0FEQUU7RUFDQyw2QkFBQTtBQ0dIOztBRERFO0VBQ0csaUJBQUE7RUFDRCxrQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDSUo7O0FERkU7RUFDRSxZQUFBO0FDS0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zZXNzaW9uLWpvaW4vc2Vzc2lvbi1qb2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3VydGhjb250ZW50e1xyXG4gIHBhZGRpbmc6IDUlIDIlIDElIDIlO1xyXG59XHJcblxyXG4uYWNjb3JkaW9uLWxpc3Qge1xyXG4gICAgcGFkZGluZzogMCAxJSAwIDElO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XHJcbiAgICAuc2VjdGlvbixcclxuICAgIC5zZWN0aW9uLWFjdGl2ZSB7XHJcbiAgICAgICAgLS1taW4taGVpZ2h0OiA2ZW07XHJcbiAgICB9XHJcbn1cclxuICAuc2VjdGlvbntcclxuICAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDojODA5MUIzO1xyXG4gIH1cclxuICAuc2VjdGlvbi1hY3RpdmV7XHJcbiAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDojODA5MUIzO1xyXG4gIH1cclxuICAuYnV0dG9uam9pbnNlc3Npb257XHJcbiAgICAgZm9udC1zaXplOm1lZGl1bTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHBhZGRpbmc6IDZweDtcclxuICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNEI1QzdDO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICB9XHJcbiAgLmRlZmF1bHRncmVlbmZvbnR7XHJcbiAgICBjb2xvcjpibGFjaztcclxuICB9XHJcbiBcclxuICAiLCIuZm91cnRoY29udGVudCB7XG4gIHBhZGRpbmc6IDUlIDIlIDElIDIlO1xufVxuXG4uYWNjb3JkaW9uLWxpc3Qge1xuICBwYWRkaW5nOiAwIDElIDAgMSU7XG4gIG1hcmdpbi1ib3R0b206IDAuNWVtO1xufVxuLmFjY29yZGlvbi1saXN0IC5zZWN0aW9uLFxuLmFjY29yZGlvbi1saXN0IC5zZWN0aW9uLWFjdGl2ZSB7XG4gIC0tbWluLWhlaWdodDogNmVtO1xufVxuXG4uc2VjdGlvbiB7XG4gIC0taW9uLWl0ZW0tYmFja2dyb3VuZDojODA5MUIzO1xufVxuXG4uc2VjdGlvbi1hY3RpdmUge1xuICAtLWlvbi1pdGVtLWJhY2tncm91bmQ6IzgwOTFCMztcbn1cblxuLmJ1dHRvbmpvaW5zZXNzaW9uIHtcbiAgZm9udC1zaXplOiBtZWRpdW07XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcGFkZGluZzogNnB4O1xuICBtYXJnaW4tdG9wOiAzMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNEI1QzdDO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5kZWZhdWx0Z3JlZW5mb250IHtcbiAgY29sb3I6IGJsYWNrO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute,Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport {NetworkService} from '../../services/network.service';\r\nimport { AssignmentsService } from '../../services/assignments.service';\r\nimport {apiurl} from '../../model/global-api';\r\nimport { HTTP } from '@ionic-native/http/ngx';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport {  GlobalService} from '../../services/global.service';\r\nimport { LoadingController, Platform, ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-session-join',\r\n  templateUrl: './session-join.page.html',\r\n  styleUrls: ['./session-join.page.scss'],\r\n})\r\nexport class SessionJoinPage implements OnInit {\r\n  bread: number;\r\n\r\n  constructor( private globalService: GlobalService,private platform: Platform,public toastController : ToastController,public loadingController: LoadingController,public dms:DomSanitizer,private nativeHttp:HTTP,private router:Router,private assignmentsService: AssignmentsService,private activatedRoute: ActivatedRoute,private storage:Storage,private networkService:NetworkService) {}\r\n\r\n  //Status from API\r\n sessionstatusaccepted:any;\r\n\r\n textdisplay:any; sessionid:any;imgdisplayinapp:any;\r\n //UserInfo\r\n token:any;studentid:any;\r\n\r\n //No Session Text\r\n NoSessionText:any;boolHaveSession=false;loading:any\r\n  ngOnInit() {\r\n  }\r\n  async ionViewWillEnter(){\r\n  this.token=this.globalService.getselectedtoken()\r\n  this.studentid=this.globalService.getselectedStudentId()\r\n  this.CallAPIGetPublicSessionStudentNotYetJoin();\r\n  this.bread = 1;\r\n  if (this.textdisplay == null){\r\n      this.presentLoading();\r\n  }else{ \r\n    this.loading.dismiss()  };\r\n    console.log(' this is the student id', this.studentid, 'this is token' ,this.token)\r\n    \r\n  }\r\n  ionViewDidEnter(){\r\n    this.platform.backButton.subscribeWithPriority(10, () => {\r\n      console.log('Handler was called!');\r\n      this.router.navigateByUrl('tabs/main')\r\n    });\r\n  }\r\n  ionViewWillLeave(){\r\n    this.loading.dismiss()\r\n    this.toastController.dismiss()\r\n    this.bread = 0 \r\n  }\r\n\r\n  UpdateData(event){\r\n\r\n    this.token=this.globalService.getselectedtoken()\r\n    this.studentid=this.globalService.getselectedStudentId()\r\n    this.nativeHttp.setDataSerializer('json');\r\n    let header =  {'Accept': 'application/json','Content-Type': 'application/json' }\r\n    let fetchinfo = {\"Authentication_Token\":this.token, \"User_Id\":this.studentid,\"inDepth\": \"Y\"}\r\n   \r\n      this.nativeHttp.post(apiurl.apiUrl+'session/ListAvailableSessionsToJoin',fetchinfo, header).then(response => {\r\n      try {\r\n        response.data = JSON.parse(response.data);\r\n        this.storage.set('joinsession', response.data).then(val =>{\r\n         this.storage.get('joinsession').then((val) =>{\r\n          this.textdisplay = val;\r\n          this.loading.dismiss()\r\n          event.target.complete()\r\n         })\r\n       })\r\n      } catch(e) {\r\n        console.error('JSON parsing error');\r\n        this.assignmentsService.presentError()\r\n        setTimeout(() => {\r\n         this.loading.dismiss()\r\n         event.target.complete()\r\n         this.router.navigateByUrl('tabs/main');  \r\n   \r\n       }, 3000);   \r\n      }\r\n   }).catch(response => {\r\n     // prints 403\r\n     console.log(response.status + \"error1\");\r\n     // prints Permission denied\r\n     console.log(response.error + \"error2\");\r\n     this.assignmentsService.presentError()\r\n     setTimeout(() => {\r\n      this.loading.dismiss()\r\n      event.target.complete()\r\n      this.router.navigateByUrl('tabs/main');  \r\n\r\n    }, 3000);\r\n   });      \r\n  }\r\n\r\n  CallAPIGetPublicSessionStudentNotYetJoin(){\r\n    this.token=this.globalService.getselectedtoken()\r\n    this.studentid=this.globalService.getselectedStudentId()\r\n    this.nativeHttp.setDataSerializer('json');\r\n    let header =  {'Accept': 'application/json','Content-Type': 'application/json' }\r\n    let fetchinfo = {\"Authentication_Token\":this.token, \"User_Id\":this.studentid,\"inDepth\": \"Y\"}\r\n   \r\n      this.nativeHttp.post(apiurl.apiUrl+'session/ListAvailableSessionsToJoin',fetchinfo, header).then(response => {\r\n      try {\r\n        response.data = JSON.parse(response.data);\r\n        this.storage.set('joinsession', response.data).then(val =>{\r\n         this.storage.get('joinsession').then((val) =>{\r\n          this.textdisplay = val;\r\n          console.log('this is text display', this.textdisplay)\r\n          if (this.textdisplay == 0){\r\n            if (this.bread == 1){\r\n              this.loading.dismiss()\r\n              this.presentToast();\r\n            }else {console.log('continue ')\r\n            this.loading.dismiss()}\r\n          }else{\r\n            }\r\n          this.loading.dismiss()\r\n         })\r\n       })\r\n      } catch(e) {\r\n        console.error('JSON parsing error');\r\n        this.assignmentsService.presentError()\r\n        setTimeout(() => {\r\n         this.loading.dismiss()\r\n         this.router.navigateByUrl('tabs/main');  \r\n   \r\n       }, 3000);\r\n   \r\n      }\r\n   }).catch(response => {\r\n     // prints 403\r\n     console.log(response.status + \"error1\");\r\n     // prints Permission denied\r\n     console.log(response.error + \"error2\");\r\n     this.assignmentsService.presentError()\r\n     setTimeout(() => {\r\n      this.loading.dismiss()\r\n      this.router.navigateByUrl('tabs/main');  \r\n\r\n    }, 3000);\r\n    \r\n   });\r\n\r\n\r\n    }\r\n  \r\n  toggleSection(index) {\r\n    this.textdisplay[index].open = !this.textdisplay[index].open;\r\n    this.textdisplay\r\n    .filter((item, itemIndex ) => itemIndex != index)\r\n    .map(item => item.open = false)\r\n  }\r\n   \r\n  SanitizeImage(imagefromAPI){\r\n    this.imgdisplayinapp=this.display(imagefromAPI)\r\n    console.log(this.imgdisplayinapp)\r\n  }\r\n  //Image Sanitize\r\n  display(bImg:string)\r\n  {\r\n    return this.dms.bypassSecurityTrustUrl(\"data:image/jpeg;base64, \"+bImg)\r\n  }\r\n\r\n  async presentToast() {\r\n    const toast = await this.toastController.create({\r\n      message: 'No session can be found currently ',\r\n      duration: 7000,\r\n      position: 'middle'\r\n    });\r\n    toast.present();\r\n  }\r\n  async ToastError() {\r\n    const toast = await this.toastController.create({\r\n      message: 'Error: Database Error',\r\n      duration: 7000,\r\n      position: 'middle'\r\n    });\r\n    toast.present();\r\n  }\r\n  async presentLoading() {\r\n    // Prepare a loading controller\r\n    this.loading = await this.loadingController.create({\r\n        message: 'Please Wait',\r\n        cssClass: 'custom-loading',\r\n        duration: 60000,\r\n        backdropDismiss: false\r\n\r\n    });\r\n    \r\n    // Present the loading controller\r\n  await this.loading.present();\r\n  setTimeout(() => {\r\n    if (this.textdisplay == null){\r\n      this.ToastError()\r\n      console.log('fix database')\r\n    }\r\n  }, 60000);\r\n}\r\n\r\nCallAPIJoinSession(sessionid){\r\n  {\r\n    if(this.networkService.online == false )\r\n    {\r\n      this.networkService.presentNetworkMsg(); \r\n      this.router.navigateByUrl('tabs/main/session-join');\r\n    }\r\n    else\r\n    {\r\n    this.nativeHttp.setDataSerializer('json');\r\n this.nativeHttp.post(apiurl.apiUrl+'session/participant_requestJoin', {\r\n\"Authentication_Token\":this.token, //Get from storage \r\n \"Student_Id\":this.studentid,\r\n \"Session_Id\": sessionid,\r\n\r\n}, {\r\n'Accept': 'application/json',\r\n'Content-Type': 'application/json' })\r\n.then(response => \r\n  {\r\n  try {\r\n      response.data = JSON.parse(response.data);\r\n      console.log(response.data)\r\n      this.assignmentsService.presentJoinSession('Ok').then((res) => {\r\n        if (res === 'Ok')  \r\n          {\r\n            this.storage.set('joinsession', response.data); \r\n            this.router.navigateByUrl('tabs/main') \r\n          }\r\n      });\r\n    } catch(e) \r\n    {\r\n      console.error('JSON parsing error');\r\n      this.assignmentsService.presentError()\r\n      setTimeout(() => {\r\n       this.loading.dismiss()\r\n       this.router.navigateByUrl('tabs/main');  \r\n \r\n     }, 3000);\r\n\r\n    }\r\n  })\r\n.catch(response => {\r\n // prints 403\r\nconsole.log(response.status);\r\n\r\n // prints Permission denied\r\nconsole.log(response.error);\r\nthis.assignmentsService.presentError()\r\nsetTimeout(() => {\r\n this.loading.dismiss()\r\n this.router.navigateByUrl('tabs/main');  \r\n\r\n}, 3000);\r\n\r\n});\r\n    }\r\n  }\r\n}\r\n\r\n}\r\n\r\n// xing yee code backup\r\n// CallAPIGetPublicSessionStudentNotYetJoin(){\r\n//   this.assignmentsService.getListAvailableSessionsToJoin();\r\n  \r\n//   this.storage.get('joinsession').then((val) => {\r\n//     if(val==0){\r\n//       this.boolHaveSession=true;\r\n//       this.NoSessionText=\"Currently, there is no available session\"\r\n//      }\r\n//      else if(val==1){\r\n//        this.textdisplay=[val];\r\n//      }d\r\n//      else{\r\n//      this.textdisplay=val;\r\n//      }\r\n//     });\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}